<div class="wrap">
  <div class="head pad">
    <ion-button fill="outline" class="nopads" (click)="close()"><ion-icon name="arrow-back"></ion-icon></ion-button>
    <h4>Add Task</h4>
  </div>

  <div class="form pad">
    <div class="input" [ngClass]="{'error': !task.title && actioned}">
      <ion-textarea name="title" [(ngModel)]="task.title" placeholder="Task Title" autoGrow></ion-textarea>
    </div>
    <small>{{ date | date:'mediumDate' }} at {{ date | date:'shortTime' }}</small>

    <div class="input" style="margin-top: 20px;">
      <ion-select name="levels" placeholder="Priority Level" label="Priority Levels" [(ngModel)]="task.priorityLevel">
        <ion-select-option *ngFor="let level of priorityLevels" [value]="level">{{ level }}</ion-select-option>
      </ion-select>
      <ion-icon name="chevron-down"></ion-icon>
    </div>

    <div class="input" style="margin-top: 20px;">
      <ion-select name="lists" [placeholder]="isLoading ? 'Loading lists...' : !isLoading && lists.length === 0 ? 'No Lists created' : 'Lists'" label="Lists" [(ngModel)]="task.listId" [disabled]="isLoading || lists.length === 0">
        <ion-select-option *ngFor="let list of lists" [value]="list.id">{{ list.title }}</ion-select-option>
      </ion-select>
      <ion-icon name="chevron-down"></ion-icon>
    </div>
  </div>

  <div class="but pad">
    <ion-button (click)="actioned = true; task.id ? update() : save()">Save Task</ion-button>
  </div>
</div>
